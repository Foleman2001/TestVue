(function(){"use strict";var e={5810:function(e,t,s){var i=s(9242),n=s(3396);const r={class:"app"},o={key:1};function a(e,t,s,i,a,l){const c=(0,n.up)("header-shop"),u=(0,n.up)("shop-list");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(c),a.isItemsLoading?((0,n.wg)(),(0,n.j4)(u,{key:0,items:a.items},null,8,["items"])):((0,n.wg)(),(0,n.iD)("div",o,"Идет загрузка товара...."))])}const l=e=>((0,n.dD)("data-v-2cec2fc2"),e=e(),(0,n.Cn)(),e),c={class:"header"},u=l((()=>(0,n._)("div",{class:"headerContainer"},[(0,n._)("h2",{class:"NameShop"},"Деревянные изделия")],-1))),d=[u];function m(e,t,s,i,r,o){return(0,n.wg)(),(0,n.iD)("div",c,d)}var p={},h=s(89);const v=(0,h.Z)(p,[["render",m],["__scopeId","data-v-2cec2fc2"]]);var f=v;const g={key:0,class:"items"},w={class:"headItems"},k={key:1,class:"NoItem"};function _(e,t,s,r,o,a){const l=(0,n.up)("my-button"),c=(0,n.up)("my-input"),u=(0,n.up)("select-sort"),d=(0,n.up)("shop-item");return s.items.length>0?((0,n.wg)(),(0,n.iD)("div",g,[(0,n._)("div",w,[(0,n._)("h2",{class:"catalog",onClick:t[0]||(t[0]=e=>o.isVisible=1)},"Каталог"),2===o.isVisible||3===o.isVisible?((0,n.wg)(),(0,n.j4)(l,{key:0,onClick:t[1]||(t[1]=e=>o.isVisible--)},{default:(0,n.w5)((()=>[(0,n.Uk)("Назад")])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(c,{modelValue:o.searchQuery,"onUpdate:modelValue":t[2]||(t[2]=e=>o.searchQuery=e),placeholder:"Поиск",class:"search"},null,8,["modelValue"]),(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Карзина")])),_:1}),(0,n.Wm)(u,{selectedSort:o.selectedSort,options:o.sortOptions,onSelectedSort:a.updateSelect},null,8,["selectedSort","options","onSelectedSort"])]),1===o.isVisible?((0,n.wg)(),(0,n.j4)(i.W3,{key:0,tag:"div",class:"itemsContainer",name:"list"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.sortedandsearchedItems,(e=>((0,n.wg)(),(0,n.j4)(d,{item:e,url:e.forms[0].variants[0].url,key:e.id,onClickCurentItem:a.updatecurentItems},null,8,["item","url","onClickCurentItem"])))),128))])),_:1})):(0,n.kq)("",!0),2===o.isVisible?((0,n.wg)(),(0,n.j4)(i.W3,{key:1,tag:"div",class:"itemsContainer",name:"list"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.sortedandsearchedItems,(e=>((0,n.wg)(),(0,n.j4)(d,{item:e,url:e.variants[0].url,key:e.idForm,onClickCurentItem:a.updatecurentForm},null,8,["item","url","onClickCurentItem"])))),128))])),_:1})):(0,n.kq)("",!0),3===o.isVisible?((0,n.wg)(),(0,n.j4)(i.W3,{key:2,tag:"div",class:"itemsContainer",name:"list"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.sortedandsearchedItems,(e=>((0,n.wg)(),(0,n.j4)(d,{item:e,url:e.url,price:e.price,key:e.variantsId,onClickCurentItem:a.updatecurentVariants},null,8,["item","url","price","onClickCurentItem"])))),128))])),_:1})):(0,n.kq)("",!0)])):((0,n.wg)(),(0,n.iD)("h3",k,"Список товара пуст..."))}var I=s(7139);const b=e=>((0,n.dD)("data-v-3497eabe"),e=e(),(0,n.Cn)(),e),y={class:"inputs"},C={class:"title"},S=["src"],O={key:0,class:"footer"},D={class:"itemFooter"},V={class:"strong"},j=b((()=>(0,n._)("span",{class:"price"}," руб",-1))),F={class:"CardModal"},W={class:"headerModal"},L={class:"bodyModal"},M=["src"],q={class:"info"},Z=b((()=>(0,n._)("div",{class:"footerModal"},null,-1)));function $(e,t,s,i,r,o){const a=(0,n.up)("my-button"),l=(0,n.up)("modal-block");return(0,n.wg)(),(0,n.iD)("div",{onClick:t[2]||(t[2]=t=>e.$emit("clickCurentItem",s.item)),class:"item"},[(0,n._)("div",y,[(0,n._)("div",C,[(0,n._)("strong",null,(0,I.zw)(s.item.name),1)])]),(0,n._)("img",{src:s.url,class:"image-item",alt:""},null,8,S),s.item.price>0?((0,n.wg)(),(0,n.iD)("div",O,[(0,n._)("div",D,[(0,n.Uk)("Цена от "),(0,n._)("strong",V,(0,I.zw)(s.item.price),1),(0,n.Uk)(),j]),(0,n.Wm)(a,{onClick:t[0]||(t[0]=e=>r.modalOpen=!r.modalOpen)},{default:(0,n.w5)((()=>[(0,n.Uk)("Купить")])),_:1})])):(0,n.kq)("",!0),r.modalOpen?((0,n.wg)(),(0,n.j4)(l,{key:1},{default:(0,n.w5)((()=>[(0,n._)("div",F,[(0,n._)("div",W,[(0,n._)("h2",null,[(0,n._)("strong",null,(0,I.zw)(s.item.name),1)]),(0,n.Wm)(a,{onClick:t[1]||(t[1]=e=>r.modalOpen=!r.modalOpen)},{default:(0,n.w5)((()=>[(0,n.Uk)("X")])),_:1})]),(0,n._)("div",L,[(0,n._)("img",{src:s.url,class:"imageModal",alt:""},null,8,M),(0,n._)("div",q,[(0,n._)("p",null,"Цена от "+(0,I.zw)(s.item.price),1),(0,n._)("p",null,"Вес "+(0,I.zw)(s.item.weight)+"г",1)])]),Z])])),_:1})):(0,n.kq)("",!0)])}var T={data(){return{modalOpen:!1}},props:{item:{tupe:Object,required:!0},url:{tupe:String,required:!0}},emits:["clickCurentItem"]};const U=(0,h.Z)(T,[["render",$],["__scopeId","data-v-3497eabe"]]);var z=U,P={components:{ShopItem:z},data(){return{selectedSort:"",searchQuery:"",sortOptions:[{value:"name",name:"По названию"},{value:"price",name:"По цене"}],roadToProduct:{id:0,idForm:0,variantsId:0},curentItems:[],curentForm:[],isVisible:1}},props:{items:{type:Array,required:!0}},methods:{updateSelect(e){this.selectedSort=e},updatecurentItems(e){console.log(e),this.roadToProduct.id=e.id,this.curentItems=e,this.isVisible++},updatecurentForm(e){console.log(e),this.roadToProduct.idForm=e.idForm,this.curentForm=e,this.isVisible++},updatecurentVariants(e){console.log(e),this.roadToProduct.variantsId=e.variantsId}},computed:{sortedItems(){return 1===this.isVisible?[...this.items].sort(((e,t)=>e[this.selectedSort]?.localeCompare(t[this.selectedSort]))):2===this.isVisible?[...this.curentItems.forms].sort(((e,t)=>e[this.selectedSort]?.localeCompare(t[this.selectedSort]))):3===this.isVisible?"price"===this.selectedSort?[...this.curentForm.variants].sort(((e,t)=>e[this.selectedSort]-t[this.selectedSort])):[...this.curentForm.variants].sort(((e,t)=>e[this.selectedSort]?.localeCompare(t[this.selectedSort]))):void 0},sortedandsearchedItems(){return this.sortedItems.filter((e=>e.name.toLowerCase().includes(this.searchQuery.toLowerCase())))}}};const x=(0,h.Z)(P,[["render",_],["__scopeId","data-v-39d90c00"]]);var G=x,H=s(4161),K={components:{ShopList:G,HeaderShop:f},data(){return{items:[],isItemsLoading:!0}},methods:{async fetchItems(){try{this.isItemsLoading=!this.isItemsLoading;const e=await H.Z.get("https://api.jsonbin.io/v3/b/64073d82ace6f33a22eacace",{headers:{"X-Master-Key":"$2b$10$LmiXDcGhxmfG47eeFNmYWOMhtrs9B8lDDOGGXWs4EEVOGieFTB6cS"}});this.isItemsLoading=!this.isItemsLoading,this.items=e.data.record}catch(e){alert("Ошибка")}}},mounted(){this.fetchItems()}};const Y=(0,h.Z)(K,[["render",a]]);var E=Y;function N(e,t,s,i,r,o){return(0,n.wg)(),(0,n.iD)("button",null,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])}var Q={name:"my-button"};const X=(0,h.Z)(Q,[["render",N],["__scopeId","data-v-0c35a6e8"]]);var A=X;function B(e,t,s,i,r,o){return(0,n.wg)(),(0,n.iD)("input",{class:"input",onInput:t[0]||(t[0]=(...e)=>o.updateInput&&o.updateInput(...e))},null,32)}var J={name:"my-input",props:{modelValue:[String,Number]},methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const R=(0,h.Z)(J,[["render",B],["__scopeId","data-v-30fee05c"]]);var ee=R;function te(e,t,s,r,o,a){return(0,n.wg)(),(0,n.iD)("div",{onClick:t[1]||(t[1]=t=>e.$emit("closeModal")),class:"modal"},[(0,n._)("div",{onClick:t[0]||(t[0]=(0,i.iM)((()=>{}),["stop"])),class:"modal_content"},[(0,n.WI)(e.$slots,"default",{},void 0,!0)])])}var se={name:"modal-block"};const ie=(0,h.Z)(se,[["render",te],["__scopeId","data-v-7a7a6e75"]]);var ne=ie;const re=e=>((0,n.dD)("data-v-6da7bf40"),e=e(),(0,n.Cn)(),e),oe=re((()=>(0,n._)("option",{class:"selectSort",disabled:"",selected:"",value:""},"Сортировка",-1))),ae=["value"];function le(e,t,s,i,r,o){return(0,n.wg)(),(0,n.iD)("select",{class:"selectsSort",onChange:t[0]||(t[0]=(...e)=>o.changeOption&&o.changeOption(...e))},[oe,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.options,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.value,value:e.value},(0,I.zw)(e.name),9,ae)))),128))],32)}var ce={name:"select-sort",props:{selectedSort:{type:String},options:{type:Array,default:()=>[]}},methods:{changeOption(e){this.$emit("selectedSort",e.target.value)}}};const ue=(0,h.Z)(ce,[["render",le],["__scopeId","data-v-6da7bf40"]]);var de=ue,me=[A,ee,ne,de];const pe=(0,i.ri)(E);me.forEach((e=>{pe.component(e.name,e)})),pe.mount("#app")}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,i,n,r){if(!i){var o=1/0;for(u=0;u<e.length;u++){i=e[u][0],n=e[u][1],r=e[u][2];for(var a=!0,l=0;l<i.length;l++)(!1&r||o>=r)&&Object.keys(s.O).every((function(e){return s.O[e](i[l])}))?i.splice(l--,1):(a=!1,r<o&&(o=r));if(a){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[i,n,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,r,o=i[0],a=i[1],l=i[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(l)var u=l(s)}for(t&&t(i);c<o.length;c++)r=o[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(u)},i=self["webpackChunkvue"]=self["webpackChunkvue"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(5810)}));i=s.O(i)})();
//# sourceMappingURL=app.cfe45ae6.js.map